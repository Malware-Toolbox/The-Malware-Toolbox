using System.Collections.ObjectModel;
using System.Diagnostics;
using CommunityToolkit.Mvvm.ComponentModel;
using MalwareToolbox.LibraryC.RegShot;

namespace MalwareToolbox.DesktopApp.UI.Items;

public class RegistryKeyItem : ObservableObject
{
    private bool _isExpanded;

    public string Name { get; set; }
    public string Path { get; set; }
    public ObservableCollection<RegistryKeyItem> Children { get; set; }
    public ObservableCollection<RegistryValueItem> Values { get; set; }
    public DiffType Diff { get; set; }

    public bool IsExpanded
    {
        get => _isExpanded;
        set => SetProperty(ref _isExpanded, value);
    }

    public RegistryKeyItem(string name, string path, ObservableCollection<RegistryKeyItem> children,
        ObservableCollection<RegistryValueItem> values, DiffType diff = DiffType.None, bool isExpanded = false)

    {
        Name = name;
        Path = path;
        Children = children;
        Values = values;
        Diff = diff;
        IsExpanded = isExpanded;
    }
}
