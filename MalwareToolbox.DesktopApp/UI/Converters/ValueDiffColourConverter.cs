using System;
using MalwareToolbox.LibraryC.RegShot;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Data;
using Microsoft.UI.Xaml.Media;

namespace MalwareToolbox.DesktopApp.UI.Converters;

class ValueDiffColourConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, string language)
    {
        if (value is RegistryValueDiff valueDiff)
            switch (valueDiff.Type)
            {
                case DiffType.Added:
                    return Application.Current.Resources["DiffAddedColour"] as Brush;
                case DiffType.Deleted:
                    return Application.Current.Resources["DiffDeletedColour"] as Brush;
                case DiffType.Modified:
                    return Application.Current.Resources["DiffModifiedColour"] as Brush;
                default:
                    return Application.Current.Resources["ButtonBackground"] as Brush;
            }
        return null;
    }

    public object ConvertBack(object value, Type targetType, object parameter, string language)
    {
        // ConvertBack is not implemented for a OneWay binding.
        throw new NotImplementedException();
    }
}