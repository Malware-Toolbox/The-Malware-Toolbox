<Page
    x:Class="MalwareToolbox.DesktopApp.Tools.Strings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MalwareToolbox.DesktopApp.Tools"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="using:System"
    mc:Ignorable="d"
    NavigationCacheMode="Enabled">
    
    <Page.Resources>
        <CollectionViewSource x:Name="StringsCollectionView" IsSourceGrouped="True"/>

        <DataTemplate x:Key="StringsListViewHeaderTemplate" x:DataType="local:StringsList">
            <TextBlock Text="{x:Bind Key}" 
                       Style="{ThemeResource BaseTextBlockStyle}"
                       IsTextSelectionEnabled="True"/>
        </DataTemplate>
        
        <DataTemplate x:Key="StringsListViewTemplate" x:DataType="system:String">
            <ListViewItem Background="{ThemeResource ButtonBackground}">
                <TextBlock Text="{x:Bind}" 
                       Margin="0,5,0,5" 
                       TextWrapping="Wrap"
                       Style="{ThemeResource BodyTextBlockStyle}"
                       IsTextSelectionEnabled="True"/>
            </ListViewItem>
        </DataTemplate>

    </Page.Resources>

    <Grid Padding="56,12,56,36">

        <ListView x:Name="StringsListView"
                  ItemsSource="{x:Bind StringsCollectionView.View, Mode=OneWay}"
                  ItemTemplate="{StaticResource StringsListViewTemplate}"
                  SelectionMode="None">

            <ListView.ItemsPanel>
                <ItemsPanelTemplate>
                    <ItemsStackPanel x:Name="GroupedStackPanel" AreStickyGroupHeadersEnabled="True"/>
                </ItemsPanelTemplate>
            </ListView.ItemsPanel>
            
            <ListView.GroupStyle>
                <GroupStyle HeaderTemplate="{StaticResource StringsListViewHeaderTemplate}"/>
            </ListView.GroupStyle>

        </ListView>
        
    </Grid>

</Page>
