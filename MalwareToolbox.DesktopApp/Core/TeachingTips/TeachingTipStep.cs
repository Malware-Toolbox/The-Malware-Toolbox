using Microsoft.UI.Xaml.Controls;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace MalwareToolbox.DesktopApp.Core.TeachingTips;

public class TeachingTipStep
{
    public TeachingTip Tip { get; set; }

    public ITipAction TipAction { get; set; }

    public TeachingTipStep(TeachingTip tip, ITipAction action)
    {
        Tip = tip;
        TipAction = action;
    }

    public async Task RunStep()
    {
        App.Instance.ThreadHelper.DispatcherQueue.TryEnqueue(() => Tip.IsOpen = true);
        await TipAction.WaitForAction();
        App.Instance.ThreadHelper.DispatcherQueue.TryEnqueue(() => Tip.IsOpen = false);
    }
}
