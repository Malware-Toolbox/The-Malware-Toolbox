using Microsoft.UI.Xaml.Controls;
using System.Collections.Generic;
using System.Threading.Tasks;

namespace MalwareToolbox.DesktopApp.Core.TeachingTips;

public class TeachingGuide
{
    private List<TeachingTipStep> _steps;

    public TeachingGuide()
    {
        _steps = new List<TeachingTipStep>();
    }

    public TeachingGuide AddStep(TeachingTip tip, ITipAction action)
    {
        return AddStep(new TeachingTipStep(tip, action));
    }

    public TeachingGuide AddStep(TeachingTipStep step)
    {
        _steps.Add(step);
        return this;
    }

    public void StartGuide()
    {
        Task.Run(async () =>
        {
            foreach (var step in _steps)
            {
                await step.RunStep();
            }
        });
    }
}
