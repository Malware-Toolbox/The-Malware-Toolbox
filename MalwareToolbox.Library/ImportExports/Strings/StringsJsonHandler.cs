using Newtonsoft.Json;

namespace MalwareToolbox.Library.ImportExports.Strings;

public class StringsJsonHandler : IImportExportHandler<Dictionary<string, List<string>>>
{
    public string FileType => ".json";
    
    public Task<Dictionary<string, List<string>>?> Import(string path, StreamReader stream)
    {
        throw new NotImplementedException();
    }

    public async Task<bool> Export(string path, StreamWriter stream, Dictionary<string, List<string>> data)
    {
        var content = await Task.Run(() => JsonConvert.SerializeObject(data, Formatting.Indented));
        await stream.WriteAsync(content);
        return true;
    }
}
