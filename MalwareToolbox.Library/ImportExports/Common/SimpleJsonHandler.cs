using Newtonsoft.Json;

namespace MalwareToolbox.Library.ImportExports.Common;

public class SimpleJsonHandler : IImportExportHandler<object>
{
    public string FileType => ".json";
    
    public Task<object?> Import(string path, StreamReader stream)
    {
        throw new NotImplementedException();
    }

    public async Task<bool> Export(string path, StreamWriter stream, object data)
    {
        var content = await Task.Run(() => JsonConvert.SerializeObject(data, Formatting.Indented));
        await stream.WriteAsync(content);
        return true;
    }
}
